-- Добавляем поле FAQ для услуг
ALTER TABLE services ADD COLUMN faq JSONB DEFAULT '[]'::jsonb;

COMMENT ON COLUMN services.faq IS 'FAQ для детальной страницы услуги в формате JSON [{question: string, answer: string}]';

-- Добавляем пример FAQ для существующих услуг
UPDATE services SET faq = '[
  {
    "question": "Сколько времени займёт разработка?",
    "answer": "В зависимости от сложности проекта, от 3 до 14 рабочих дней."
  },
  {
    "question": "Входит ли поддержка в стоимость?",
    "answer": "Да, базовая техническая поддержка входит в стоимость на 3 месяца."
  },
  {
    "question": "Можно ли вносить изменения?",
    "answer": "Конечно! Мы предусматриваем 2 раунда правок в рамках проекта."
  },
  {
    "question": "Предоставляете ли гарантию?",
    "answer": "Да, предоставляем гарантию на все выполненные работы сроком 6 месяцев."
  }
]'::jsonb WHERE faq IS NULL OR faq = '[]'::jsonb;